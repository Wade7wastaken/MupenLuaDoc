<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge"http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0"name=viewport><link href=css/styles.css rel=stylesheet><link href=css/pygments.css rel=stylesheet><title>Mupen Lua API Docs</title></head><body><div class=sidebar><div class=sidebarheader><div class=logo><a href=index.html><img src=img/mupen_logo.png></a></div><div class=logolabel>mupen64-rr-lua docs</div></div><div class=collapsible><a href=#globalFuncs>GLOBAL FUNCTIONS</a></div><div class=funcList><a href=#globalPrint> <button onclick="highlightFunc('globalPrint')"class=funcListItem>PRINT</button> </a><a href=#globalStop> <button onclick="highlightFunc('globalStop')"class=funcListItem>STOP</button> </a></div><div class=collapsible><a href=#emuFuncs>EMU FUNCTIONS</a></div><div class=funcList><a href=#emuConsole> <button onclick="highlightFunc('emuConsole')"class=funcListItem>EMU.CONSOLE</button> </a><a href=#emuDebugview> <button onclick="highlightFunc('emuDebugview')"class=funcListItem>EMU.DEBUGVIEW</button> </a><a href=#emuStatusbar> <button onclick="highlightFunc('emuStatusbar')"class=funcListItem>EMU.STATUSBAR</button> </a><a href=#emuAtvi> <button onclick="highlightFunc('emuAtvi')"class=funcListItem>EMU.ATVI</button> </a><a href=#emuAtupdatescreen> <button onclick="highlightFunc('emuAtupdatescreen')"class=funcListItem>EMU.ATUPDATESCREEN</button> </a><a href=#emuAtinput> <button onclick="highlightFunc('emuAtinput')"class=funcListItem>EMU.ATINPUT</button> </a><a href=#emuAtstop> <button onclick="highlightFunc('emuAtstop')"class=funcListItem>EMU.ATSTOP</button> </a><a href=#emuAtwindowmessage> <button onclick="highlightFunc('emuAtwindowmessage')"class=funcListItem>EMU.ATWINDOWMESSAGE</button> </a><a href=#emuAtinterval> <button onclick="highlightFunc('emuAtinterval')"class=funcListItem>EMU.ATINTERVAL</button> </a><a href=#emuAtplaymovie> <button onclick="highlightFunc('emuAtplaymovie')"class=funcListItem>EMU.ATPLAYMOVIE</button> </a><a href=#emuAtstopmovie> <button onclick="highlightFunc('emuAtstopmovie')"class=funcListItem>EMU.ATSTOPMOVIE</button> </a><a href=#emuAtloadstate> <button onclick="highlightFunc('emuAtloadstate')"class=funcListItem>EMU.ATLOADSTATE</button> </a><a href=#emuAtsavestate> <button onclick="highlightFunc('emuAtsavestate')"class=funcListItem>EMU.ATSAVESTATE</button> </a><a href=#emuAtreset> <button onclick="highlightFunc('emuAtreset')"class=funcListItem>EMU.ATRESET</button> </a><a href=#emuFramecount> <button onclick="highlightFunc('emuFramecount')"class=funcListItem>EMU.FRAMECOUNT</button> </a><a href=#emuSamplecount> <button onclick="highlightFunc('emuSamplecount')"class=funcListItem>EMU.SAMPLECOUNT</button> </a><a href=#emuInputcount> <button onclick="highlightFunc('emuInputcount')"class=funcListItem>EMU.INPUTCOUNT</button> </a><a href=#emuGetversion> <button onclick="highlightFunc('emuGetversion')"class=funcListItem>EMU.GETVERSION</button> </a><a href=#emuPause> <button onclick="highlightFunc('emuPause')"class=funcListItem>EMU.PAUSE</button> </a><a href=#emuGetpause> <button onclick="highlightFunc('emuGetpause')"class=funcListItem>EMU.GETPAUSE</button> </a><a href=#emuGetspeed> <button onclick="highlightFunc('emuGetspeed')"class=funcListItem>EMU.GETSPEED</button> </a><a href=#emuSpeed> <button onclick="highlightFunc('emuSpeed')"class=funcListItem>EMU.SPEED</button> </a><a href=#emuSpeedmode> <button onclick="highlightFunc('emuSpeedmode')"class=funcListItem>EMU.SPEEDMODE</button> </a><a href=#emuSetgfx> <button onclick="highlightFunc('emuSetgfx')"class=funcListItem>EMU.SETGFX</button> </a><a href=#emuGetaddress> <button onclick="highlightFunc('emuGetaddress')"class=funcListItem>EMU.GETADDRESS</button> </a><a href=#emuIsreadonly> <button onclick="highlightFunc('emuIsreadonly')"class=funcListItem>EMU.ISREADONLY</button> </a><a href=#emuGetsystemmetrics> <button onclick="highlightFunc('emuGetsystemmetrics')"class=funcListItem>EMU.GETSYSTEMMETRICS</button> </a><a href=#emuIsmainwindowinforeground> <button onclick="highlightFunc('emuIsmainwindowinforeground')"class=funcListItem>EMU.ISMAINWINDOWINFOREGROUND</button> </a><a href=#emuScreenshot> <button onclick="highlightFunc('emuScreenshot')"class=funcListItem>EMU.SCREENSHOT</button> </a></div><div class=collapsible><a href=#memoryFuncs>MEMORY FUNCTIONS</a></div><div class=funcList><a href=#memoryInttofloat> <button onclick="highlightFunc('memoryInttofloat')"class=funcListItem>MEMORY.INTTOFLOAT</button> </a><a href=#memoryInttodouble> <button onclick="highlightFunc('memoryInttodouble')"class=funcListItem>MEMORY.INTTODOUBLE</button> </a><a href=#memoryFloattoint> <button onclick="highlightFunc('memoryFloattoint')"class=funcListItem>MEMORY.FLOATTOINT</button> </a><a href=#memoryDoubletoint> <button onclick="highlightFunc('memoryDoubletoint')"class=funcListItem>MEMORY.DOUBLETOINT</button> </a><a href=#memoryQwordtonumber> <button onclick="highlightFunc('memoryQwordtonumber')"class=funcListItem>MEMORY.QWORDTONUMBER</button> </a><a href=#memoryReadbytesigned> <button onclick="highlightFunc('memoryReadbytesigned')"class=funcListItem>MEMORY.READBYTESIGNED</button> </a><a href=#memoryReadbyte> <button onclick="highlightFunc('memoryReadbyte')"class=funcListItem>MEMORY.READBYTE</button> </a><a href=#memoryReadwordsigned> <button onclick="highlightFunc('memoryReadwordsigned')"class=funcListItem>MEMORY.READWORDSIGNED</button> </a><a href=#memoryReadword> <button onclick="highlightFunc('memoryReadword')"class=funcListItem>MEMORY.READWORD</button> </a><a href=#memoryReaddwordsigned> <button onclick="highlightFunc('memoryReaddwordsigned')"class=funcListItem>MEMORY.READDWORDSIGNED</button> </a><a href=#memoryReaddword> <button onclick="highlightFunc('memoryReaddword')"class=funcListItem>MEMORY.READDWORD</button> </a><a href=#memoryReadqwordsigned> <button onclick="highlightFunc('memoryReadqwordsigned')"class=funcListItem>MEMORY.READQWORDSIGNED</button> </a><a href=#memoryReadqword> <button onclick="highlightFunc('memoryReadqword')"class=funcListItem>MEMORY.READQWORD</button> </a><a href=#memoryReadfloat> <button onclick="highlightFunc('memoryReadfloat')"class=funcListItem>MEMORY.READFLOAT</button> </a><a href=#memoryReaddouble> <button onclick="highlightFunc('memoryReaddouble')"class=funcListItem>MEMORY.READDOUBLE</button> </a><a href=#memoryReadsize> <button onclick="highlightFunc('memoryReadsize')"class=funcListItem>MEMORY.READSIZE</button> </a><a href=#memoryWritebyte> <button onclick="highlightFunc('memoryWritebyte')"class=funcListItem>MEMORY.WRITEBYTE</button> </a><a href=#memoryWriteword> <button onclick="highlightFunc('memoryWriteword')"class=funcListItem>MEMORY.WRITEWORD</button> </a><a href=#memoryWritedword> <button onclick="highlightFunc('memoryWritedword')"class=funcListItem>MEMORY.WRITEDWORD</button> </a><a href=#memoryWriteqword> <button onclick="highlightFunc('memoryWriteqword')"class=funcListItem>MEMORY.WRITEQWORD</button> </a><a href=#memoryWritefloat> <button onclick="highlightFunc('memoryWritefloat')"class=funcListItem>MEMORY.WRITEFLOAT</button> </a><a href=#memoryWritedouble> <button onclick="highlightFunc('memoryWritedouble')"class=funcListItem>MEMORY.WRITEDOUBLE</button> </a><a href=#memoryWritesize> <button onclick="highlightFunc('memoryWritesize')"class=funcListItem>MEMORY.WRITESIZE</button> </a></div><div class=collapsible><a href=#wguiFuncs>WGUI FUNCTIONS</a></div><div class=funcList><a href=#wguiFill_rectangle> <button onclick="highlightFunc('wguiFill_rectangle')"class=funcListItem>WGUI.FILL_RECTANGLE</button> </a><a href=#wguiDraw_rectangle> <button onclick="highlightFunc('wguiDraw_rectangle')"class=funcListItem>WGUI.DRAW_RECTANGLE</button> </a><a href=#wguiFill_ellipse> <button onclick="highlightFunc('wguiFill_ellipse')"class=funcListItem>WGUI.FILL_ELLIPSE</button> </a><a href=#wguiDraw_ellipse> <button onclick="highlightFunc('wguiDraw_ellipse')"class=funcListItem>WGUI.DRAW_ELLIPSE</button> </a><a href=#wguiDraw_line> <button onclick="highlightFunc('wguiDraw_line')"class=funcListItem>WGUI.DRAW_LINE</button> </a><a href=#wguiDraw_text> <button onclick="highlightFunc('wguiDraw_text')"class=funcListItem>WGUI.DRAW_TEXT</button> </a><a href=#wguiGet_text_size> <button onclick="highlightFunc('wguiGet_text_size')"class=funcListItem>WGUI.GET_TEXT_SIZE</button> </a><a href=#wguiPush_clip> <button onclick="highlightFunc('wguiPush_clip')"class=funcListItem>WGUI.PUSH_CLIP</button> </a><a href=#wguiPop_clip> <button onclick="highlightFunc('wguiPop_clip')"class=funcListItem>WGUI.POP_CLIP</button> </a><a href=#wguiFill_rounded_rectangle> <button onclick="highlightFunc('wguiFill_rounded_rectangle')"class=funcListItem>WGUI.FILL_ROUNDED_RECTANGLE</button> </a><a href=#wguiDraw_rounded_rectangle> <button onclick="highlightFunc('wguiDraw_rounded_rectangle')"class=funcListItem>WGUI.DRAW_ROUNDED_RECTANGLE</button> </a><a href=#wguiLoad_image> <button onclick="highlightFunc('wguiLoad_image')"class=funcListItem>WGUI.LOAD_IMAGE</button> </a><a href=#wguiFree_image> <button onclick="highlightFunc('wguiFree_image')"class=funcListItem>WGUI.FREE_IMAGE</button> </a><a href=#wguiDraw_image> <button onclick="highlightFunc('wguiDraw_image')"class=funcListItem>WGUI.DRAW_IMAGE</button> </a><a href=#wguiGet_image_info> <button onclick="highlightFunc('wguiGet_image_info')"class=funcListItem>WGUI.GET_IMAGE_INFO</button> </a><a href=#wguiSet_text_antialias_mode> <button onclick="highlightFunc('wguiSet_text_antialias_mode')"class=funcListItem>WGUI.SET_TEXT_ANTIALIAS_MODE</button> </a><a href=#wguiSet_antialias_mode> <button onclick="highlightFunc('wguiSet_antialias_mode')"class=funcListItem>WGUI.SET_ANTIALIAS_MODE</button> </a><a href=#wguiGdip_fillpolygona> <button onclick="highlightFunc('wguiGdip_fillpolygona')"class=funcListItem>WGUI.GDIP_FILLPOLYGONA</button> </a><a href=#wguiInfo> <button onclick="highlightFunc('wguiInfo')"class=funcListItem>WGUI.INFO</button> </a><a href=#wguiResize> <button onclick="highlightFunc('wguiResize')"class=funcListItem>WGUI.RESIZE</button> </a></div><div class=collapsible><a href=#inputFuncs>INPUT FUNCTIONS</a></div><div class=funcList><a href=#inputGet> <button onclick="highlightFunc('inputGet')"class=funcListItem>INPUT.GET</button> </a><a href=#inputDiff> <button onclick="highlightFunc('inputDiff')"class=funcListItem>INPUT.DIFF</button> </a><a href=#inputPrompt> <button onclick="highlightFunc('inputPrompt')"class=funcListItem>INPUT.PROMPT</button> </a><a href=#inputGet_key_name_text> <button onclick="highlightFunc('inputGet_key_name_text')"class=funcListItem>INPUT.GET_KEY_NAME_TEXT</button> </a><a href=#inputMap_virtual_key_ex> <button onclick="highlightFunc('inputMap_virtual_key_ex')"class=funcListItem>INPUT.MAP_VIRTUAL_KEY_EX</button> </a></div><div class=collapsible><a href=#joypadFuncs>JOYPAD FUNCTIONS</a></div><div class=funcList><a href=#joypadGet> <button onclick="highlightFunc('joypadGet')"class=funcListItem>JOYPAD.GET</button> </a><a href=#joypadSet> <button onclick="highlightFunc('joypadSet')"class=funcListItem>JOYPAD.SET</button> </a><a href=#joypadRegister> <button onclick="highlightFunc('joypadRegister')"class=funcListItem>JOYPAD.REGISTER</button> </a><a href=#joypadCount> <button onclick="highlightFunc('joypadCount')"class=funcListItem>JOYPAD.COUNT</button> </a></div><div class=collapsible><a href=#movieFuncs>MOVIE FUNCTIONS</a></div><div class=funcList><a href=#moviePlaymovie> <button onclick="highlightFunc('moviePlaymovie')"class=funcListItem>MOVIE.PLAYMOVIE</button> </a><a href=#movieStopmovie> <button onclick="highlightFunc('movieStopmovie')"class=funcListItem>MOVIE.STOPMOVIE</button> </a><a href=#movieGetmoviefilename> <button onclick="highlightFunc('movieGetmoviefilename')"class=funcListItem>MOVIE.GETMOVIEFILENAME</button> </a></div><div class=collapsible><a href=#savestateFuncs>SAVESTATE FUNCTIONS</a></div><div class=funcList><a href=#savestateSavefile> <button onclick="highlightFunc('savestateSavefile')"class=funcListItem>SAVESTATE.SAVEFILE</button> </a><a href=#savestateLoadfile> <button onclick="highlightFunc('savestateLoadfile')"class=funcListItem>SAVESTATE.LOADFILE</button> </a></div><div class=collapsible><a href=#ioHelperFuncs>IOHELPER FUNCTIONS</a></div><div class=funcList><a href=#ioHelperFilediag> <button onclick="highlightFunc('ioHelperFilediag')"class=funcListItem>IOHELPER.FILEDIAG</button> </a></div><div class=collapsible><a href=#aviFuncs>AVI FUNCTIONS</a></div><div class=funcList><a href=#aviStartcapture> <button onclick="highlightFunc('aviStartcapture')"class=funcListItem>AVI.STARTCAPTURE</button> </a><a href=#aviStopcapture> <button onclick="highlightFunc('aviStopcapture')"class=funcListItem>AVI.STOPCAPTURE</button> </a></div></div><div class=docBody><hr><h1><a id=globalFuncs>GLOBAL</a>FUNCTIONS</h1><div name=globalPrint><hr><h1><a id=globalPrint>print</a></h1><p>Prints a value to the lua console.</p><p>@<em>param</em> <code>data</code> — The data to print to the console.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nf>print</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=n>any</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=globalStop><hr><h1><a id=globalStop>stop</a></h1><p>Stops script execution.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nf>stop</span><span class=p>()</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><hr><h1><a id=emuFuncs>EMU</a>FUNCTIONS</h1><div name=emuConsole><hr><h1><a id=emuConsole>emu.console</a></h1><p>Displays the text <code>message</code> in the console. Similar to <code>print</code>, but only accepts strings. Because of this, <code>print</code> should be used instead.</p><p>@<em>param</em> <code>message</code> — The string to print to the console.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>console</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuDebugview><hr><h1><a id=emuDebugview>emu.debugview</a></h1><p>Prints <code>message</code> to the debug console. If you are not debugging with Visual Studio, this function will do nothing.</p><p>@<em>param</em> <code>message</code> — The string to print to the debug console.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>debugview</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuStatusbar><hr><h1><a id=emuStatusbar>emu.statusbar</a></h1><p>Displays the text <code>message</code> in the status bar on the bottom while replacing any other text. The message will only display until the next frame.</p><p>@<em>param</em> <code>message</code> — The string to display on the status bar.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>statusbar</span><span class=p>(</span><span class=n>message</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtvi><hr><h1><a id=emuAtvi>emu.atvi</a></h1><p>Calls the function <code>f</code> every VI frame. For example, in Super Mario 64, the function will be called twice when you advance by one frame, whereas it will be called once in Ocarina of Time. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called every VI frame.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atvi</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtupdatescreen><hr><h1><a id=emuAtupdatescreen>emu.atupdatescreen</a></h1><p>Similar to <code>emu.atvi</code>, except that it is called after. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called after every VI frame.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atupdatescreen</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtinput><hr><h1><a id=emuAtinput>emu.atinput</a></h1><p>Calls the function <code>f</code> every input frame. The function <code>f</code> receives an argument that seems to always be <code>0</code>. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function. Alias for <code>joypad.register</code>.</p><p>@<em>param</em> <code>f</code> — The function to be called every input frame. It receives an argument that seems to always be <code>0</code>.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atinput</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>(</span><span class=n>a</span><span class=err>?</span><span class=p>:</span> <span class=n>integer</span><span class=p>):</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtstop><hr><h1><a id=emuAtstop>emu.atstop</a></h1><p>Calls the function <code>f</code> when the script is stopped. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called when the script is stopped.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atstop</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtwindowmessage><hr><h1><a id=emuAtwindowmessage>emu.atwindowmessage</a></h1><p>Defines a handler function that is called when a window receives a message. The message data is given to the function in 4 parameters. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called when a window message is received. a: wnd, b: msg, c: wParam, d: lParam.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atwindowmessage</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>b</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>c</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>d</span><span class=p>:</span> <span class=n>integer</span><span class=p>):</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtinterval><hr><h1><a id=emuAtinterval>emu.atinterval</a></h1><p>Calls the function <code>f</code> constantly, even when the emulator is paused. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called constantly.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atinterval</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtplaymovie><hr><h1><a id=emuAtplaymovie>emu.atplaymovie</a></h1><p>Calls the function <code>f</code> when a movie is played. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called when a movie is played.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atplaymovie</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtstopmovie><hr><h1><a id=emuAtstopmovie>emu.atstopmovie</a></h1><p>Calls the function <code>f</code> when a movie is stopped. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called when a movie is stopped.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atstopmovie</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtloadstate><hr><h1><a id=emuAtloadstate>emu.atloadstate</a></h1><p>Calls the function <code>f</code> when a savestate is loaded. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called when a savestate is loaded.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atloadstate</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtsavestate><hr><h1><a id=emuAtsavestate>emu.atsavestate</a></h1><p>Calls the function <code>f</code> when a savestate is saved. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called when a savestate is saved.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atsavestate</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuAtreset><hr><h1><a id=emuAtreset>emu.atreset</a></h1><p>Calls the function <code>f</code> when the emulator is reset. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function.</p><p>@<em>param</em> <code>f</code> — The function to be called when the emulator is reset.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>atreset</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>():</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuFramecount><hr><h1><a id=emuFramecount>emu.framecount</a></h1><p>Returns the number of VIs since the last movie was played. This should match the statusbar (assuming you have <code>0-index statusbar</code> off). If no movie has been played, it returns the number of VIs since the emulator was started, not reset.</p><p>@<em>return</em> <code>framecount</code> — The number of VIs since the last movie was played.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>framecount</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>framecount</span><span class=p>:</span> <span class=n>integer</span>
</code></pre></div></div><div name=emuSamplecount><hr><h1><a id=emuSamplecount>emu.samplecount</a></h1><p>Returns the number of input frames since the last movie was played. This should match the statusbar (assuming you have <code>0-index statusbar</code> off). If no movie is playing, it will return the last value when a movie was playing. If no movie has been played yet, it will return <code>-1</code>.</p><p>@<em>return</em> <code>samplecount</code> — The number of input frames since the last movie was played.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>samplecount</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>samplecount</span><span class=p>:</span> <span class=n>integer</span>
</code></pre></div></div><div name=emuInputcount><hr><h1><a id=emuInputcount>emu.inputcount</a></h1><p>Returns the number of input frames that have happened since the emulator was started. It does not reset when a movie is started. Alias for <code>joypad.count</code>.</p><p>@<em>return</em> <code>inputcount</code> — The number of input frames that have happened since the emulator was started.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>inputcount</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>inputcount</span><span class=p>:</span> <span class=n>integer</span>
</code></pre></div></div><div name=emuGetversion><hr><h1><a id=emuGetversion>emu.getversion</a></h1><p>Returns the current mupen version. If <code>type</code> is 0, it will return the full version name (Mupen 64 0.0.0). If <code>type</code> is 1, it will return only the version number (0.0.0).</p><p>@<em>param</em> <code>type</code> — Whether to get the full version (<code>0</code>) or the short version (<code>1</code>).</p><p>@<em>return</em> <code>version</code> — The Mupen version.</p><div class=codehilite><pre><span></span><code><span class=nb>type</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>0</span>
    <span class=o>|</span> <span class=mi>1</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>getversion</span><span class=p>(</span><span class=nb>type</span><span class=p>:</span> <span class=mi>0</span><span class=o>|</span><span class=mi>1</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>version</span><span class=p>:</span> <span class=n>string</span>
</code></pre></div></div><div name=emuPause><hr><h1><a id=emuPause>emu.pause</a></h1><p>Pauses or unpauses the emulator.</p><p>@<em>param</em> <code>pause</code> — True pauses the emulator and false resumes it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>pause</span><span class=p>(</span><span class=n>pause</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuGetpause><hr><h1><a id=emuGetpause>emu.getpause</a></h1><p>Returns <code>true</code> if the emulator is paused and <code>false</code> if it is not.</p><p>@<em>return</em> <code>emu_paused</code> — <code>true</code> if the emulator is paused and <code>false</code> if it is not.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>getpause</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>emu_paused</span><span class=p>:</span> <span class=n>boolean</span>
</code></pre></div></div><div name=emuGetspeed><hr><h1><a id=emuGetspeed>emu.getspeed</a></h1><p>Returns the current speed limit (not the current speed) of the emulator.</p><p>@<em>return</em> <code>speed_limit</code> — The current speed limit of the emulator.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>getspeed</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>speed_limit</span><span class=p>:</span> <span class=n>integer</span>
</code></pre></div></div><div name=emuSpeed><hr><h1><a id=emuSpeed>emu.speed</a></h1><p>Sets the speed limit of the emulator.</p><p>@<em>param</em> <code>speed_limit</code> — The new speed limit of the emulator.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>speed</span><span class=p>(</span><span class=n>speed_limit</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuSpeedmode><hr><h1><a id=emuSpeedmode>emu.speedmode</a></h1><p>Sets the speed mode of the emulator.</p><div class=codehilite><pre><span></span><code><span class=n>mode</span><span class=p>:</span>
    <span class=o>|</span> <span class=s2>"normal"</span>
    <span class=o>|</span> <span class=s2>"maximum"</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>speedmode</span><span class=p>(</span><span class=n>mode</span><span class=p>:</span> <span class=s2>"maximum"</span><span class=o>|</span><span class=s2>"normal"</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuSetgfx><hr><h1><a id=emuSetgfx>emu.setgfx</a></h1><p>?</p><div class=codehilite><pre><span></span><code><span class=n>mode</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>0</span>
    <span class=o>|</span> <span class=mi>1</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>setgfx</span><span class=p>(</span><span class=n>mode</span><span class=p>:</span> <span class=mi>0</span><span class=o>|</span><span class=mi>1</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=emuGetaddress><hr><h1><a id=emuGetaddress>emu.getaddress</a></h1><p>?</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>getaddress</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=emuIsreadonly><hr><h1><a id=emuIsreadonly>emu.isreadonly</a></h1><p>Returns true if the currently playing movie is read only and false if it is not.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>isreadonly</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>read_only</span><span class=p>:</span> <span class=n>boolean</span>
</code></pre></div></div><div name=emuGetsystemmetrics><hr><h1><a id=emuGetsystemmetrics>emu.getsystemmetrics</a></h1><p>Gets a system metric using the windows <a href=https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getsystemmetrics>GetSystemMetrics</a> function.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>getsystemmetrics</span><span class=p>(</span><span class=n>param</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>metric</span><span class=p>:</span> <span class=n>integer</span>
</code></pre></div></div><div name=emuIsmainwindowinforeground><hr><h1><a id=emuIsmainwindowinforeground>emu.ismainwindowinforeground</a></h1><p>Returns <code>true</code> if the main mupen window is focused and false if it is not.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>ismainwindowinforeground</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>focused</span><span class=p>:</span> <span class=n>boolean</span>
</code></pre></div></div><div name=emuScreenshot><hr><h1><a id=emuScreenshot>emu.screenshot</a></h1><p>Takes a screenshot and saves it to the directory <code>dir</code>.</p><p>@<em>param</em> <code>dir</code> — The directory to save the screenshot to.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>emu</span><span class=p>.</span><span class=nf>screenshot</span><span class=p>(</span><span class=n>dir</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><hr><h1><a id=memoryFuncs>MEMORY</a>FUNCTIONS</h1><div name=memoryInttofloat><hr><h1><a id=memoryInttofloat>memory.inttofloat</a></h1><p>Reinterprets the bits of a 4 byte integer <code>n</code> as a float and returns it. This does not convert from an int to a float, but reinterprets the memory.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>inttofloat</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>number</span>
</code></pre></div></div><div name=memoryInttodouble><hr><h1><a id=memoryInttodouble>memory.inttodouble</a></h1><p>Reinterprets the bits of an 8 byte integer <code>n</code> as a double and returns it. This does not convert from an int to a double, but reinterprets the memory.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>inttodouble</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=n>integer</span><span class=p>[])</span>
  <span class=o>-></span> <span class=n>number</span>
</code></pre></div></div><div name=memoryFloattoint><hr><h1><a id=memoryFloattoint>memory.floattoint</a></h1><p>Reinterprets the bits of a float <code>n</code> as a 4 byte integer and returns it. This does not convert from an int to a float, but reinterprets the memory.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>floattoint</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=memoryDoubletoint><hr><h1><a id=memoryDoubletoint>memory.doubletoint</a></h1><p>Reinterprets the bits of a 8 byte integer <code>n</code> as a double and returns it. This does not convert from an int to a float, but reinterprets the memory.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>doubletoint</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=n>integer</span><span class=p>[])</span>
  <span class=o>-></span> <span class=n>number</span>
</code></pre></div></div><div name=memoryQwordtonumber><hr><h1><a id=memoryQwordtonumber>memory.qwordtonumber</a></h1><p>Takes in an 8 byte integer and returns it as a lua number. This function should only be used when reading a qword from memory.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>qwordtonumber</span><span class=p>(</span><span class=n>n</span><span class=p>:</span> <span class=n>integer</span><span class=p>[])</span>
  <span class=o>-></span> <span class=n>number</span>
</code></pre></div></div><div name=memoryReadbytesigned><hr><h1><a id=memoryReadbytesigned>memory.readbytesigned</a></h1><p>Reads a signed byte from memory at <code>address</code> and returns it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readbytesigned</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=memoryReadbyte><hr><h1><a id=memoryReadbyte>memory.readbyte</a></h1><p>Reads an unsigned byte from memory at <code>address</code> and returns it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readbyte</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=memoryReadwordsigned><hr><h1><a id=memoryReadwordsigned>memory.readwordsigned</a></h1><p>Reads a signed word (2 bytes) from memory at <code>address</code> and returns it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readwordsigned</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=memoryReadword><hr><h1><a id=memoryReadword>memory.readword</a></h1><p>Reads an unsigned word (2 bytes) from memory at <code>address</code> and returns it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readword</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=memoryReaddwordsigned><hr><h1><a id=memoryReaddwordsigned>memory.readdwordsigned</a></h1><p>Reads a signed dword (4 bytes) from memory at <code>address</code> and returns it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readdwordsigned</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=memoryReaddword><hr><h1><a id=memoryReaddword>memory.readdword</a></h1><p>Reads an unsigned dword (4 bytes) from memory at <code>address</code> and returns it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readdword</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=memoryReadqwordsigned><hr><h1><a id=memoryReadqwordsigned>memory.readqwordsigned</a></h1><p>Reads a signed qword (8 bytes) from memory at <code>address</code> and returns it as a table of the upper and lower 4 bytes.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readqwordsigned</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span><span class=p>[]</span>
</code></pre></div></div><div name=memoryReadqword><hr><h1><a id=memoryReadqword>memory.readqword</a></h1><p>Reads an unsigned qword (8 bytes) from memory at <code>address</code> and returns it as a table of the upper and lower 4 bytes.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readqword</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><div name=memoryReadfloat><hr><h1><a id=memoryReadfloat>memory.readfloat</a></h1><p>Reads a float (4 bytes) from memory at <code>address</code> and returns it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readfloat</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>number</span>
</code></pre></div></div><div name=memoryReaddouble><hr><h1><a id=memoryReaddouble>memory.readdouble</a></h1><p>Reads a double (8 bytes) from memory at <code>address</code> and returns it.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readdouble</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>number</span>
</code></pre></div></div><div name=memoryReadsize><hr><h1><a id=memoryReadsize>memory.readsize</a></h1><p>Reads <code>size</code> bytes from memory at <code>address</code> and returns them. The memory is treated as signed if <code>size</code> is is negative.</p><div class=codehilite><pre><span></span><code><span class=n>size</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>1</span>
    <span class=o>|</span> <span class=mi>2</span>
    <span class=o>|</span> <span class=mi>4</span>
    <span class=o>|</span> <span class=mi>8</span>
    <span class=o>|</span> <span class=o>-</span><span class=mi>1</span>
    <span class=o>|</span> <span class=o>-</span><span class=mi>2</span>
    <span class=o>|</span> <span class=o>-</span><span class=mi>4</span>
    <span class=o>|</span> <span class=o>-</span><span class=mi>8</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>readsize</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>size</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=o>|-</span><span class=mi>2</span><span class=o>|-</span><span class=mi>4</span><span class=o>|-</span><span class=mi>8</span><span class=o>|</span><span class=mf>1.</span><span class=o>..</span><span class=p>(</span><span class=o>+</span><span class=mi>3</span><span class=p>))</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=memoryWritebyte><hr><h1><a id=memoryWritebyte>memory.writebyte</a></h1><p>Writes an unsigned byte to memory at <code>address</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>writebyte</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=memoryWriteword><hr><h1><a id=memoryWriteword>memory.writeword</a></h1><p>Writes an unsigned word (2 bytes) to memory at <code>address</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>writeword</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=memoryWritedword><hr><h1><a id=memoryWritedword>memory.writedword</a></h1><p>Writes an unsigned dword (4 bytes) to memory at <code>address</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>writedword</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=memoryWriteqword><hr><h1><a id=memoryWriteqword>memory.writeqword</a></h1><p>Writes an unsigned qword consisting of a table with the upper and lower 4 bytes to memory at <code>address</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>writeqword</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>integer</span><span class=p>[])</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=memoryWritefloat><hr><h1><a id=memoryWritefloat>memory.writefloat</a></h1><p>Writes a float to memory at <code>address</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>writefloat</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=memoryWritedouble><hr><h1><a id=memoryWritedouble>memory.writedouble</a></h1><p>Writes a double to memory at <code>address</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>writedouble</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>data</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=memoryWritesize><hr><h1><a id=memoryWritesize>memory.writesize</a></h1><p>Writes <code>size</code> bytes to memory at <code>address</code>. The memory is treated as signed if <code>size</code> is is negative.</p><div class=codehilite><pre><span></span><code><span class=n>size</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>1</span>
    <span class=o>|</span> <span class=mi>2</span>
    <span class=o>|</span> <span class=mi>4</span>
    <span class=o>|</span> <span class=mi>8</span>
    <span class=o>|</span> <span class=o>-</span><span class=mi>1</span>
    <span class=o>|</span> <span class=o>-</span><span class=mi>2</span>
    <span class=o>|</span> <span class=o>-</span><span class=mi>4</span>
    <span class=o>|</span> <span class=o>-</span><span class=mi>8</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>memory</span><span class=p>.</span><span class=nf>writesize</span><span class=p>(</span><span class=n>address</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>size</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=o>|-</span><span class=mi>2</span><span class=o>|-</span><span class=mi>4</span><span class=o>|-</span><span class=mi>8</span><span class=o>|</span><span class=mf>1.</span><span class=o>..</span><span class=p>(</span><span class=o>+</span><span class=mi>3</span><span class=p>),</span> <span class=n>data</span><span class=p>:</span> <span class=n>integer</span><span class=o>|</span><span class=n>integer</span><span class=p>[])</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><hr><h1><a id=wguiFuncs>WGUI</a>FUNCTIONS</h1><div name=wguiFill_rectangle><hr><h1><a id=wguiFill_rectangle>wgui.fill_rectangle</a></h1><p>Draws a filled in rectangle at the specified coordinates and color.</p><p>@<em>param</em> <code>red</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>green</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>blue</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>alpha</code> — d2d colors range from 0.0 to 1.0.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>fill_rectangle</span><span class=p>(</span><span class=n>x1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>x2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiDraw_rectangle><hr><h1><a id=wguiDraw_rectangle>wgui.draw_rectangle</a></h1><p>Draws the border of a rectangle at the specified coordinates and color.</p><p>@<em>param</em> <code>red</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>green</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>blue</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>alpha</code> — d2d colors range from 0.0 to 1.0.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>draw_rectangle</span><span class=p>(</span><span class=n>x1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>x2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>thickness</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiFill_ellipse><hr><h1><a id=wguiFill_ellipse>wgui.fill_ellipse</a></h1><p>Draws a filled in ellipse at the specified coordinates and color.</p><p>@<em>param</em> <code>red</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>green</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>blue</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>alpha</code> — d2d colors range from 0.0 to 1.0.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>fill_ellipse</span><span class=p>(</span><span class=n>x</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>radiusX</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>radiusY</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiDraw_ellipse><hr><h1><a id=wguiDraw_ellipse>wgui.draw_ellipse</a></h1><p>Draws the border of an ellipse at the specified coordinates and color.</p><p>@<em>param</em> <code>red</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>green</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>blue</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>alpha</code> — d2d colors range from 0.0 to 1.0.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>draw_ellipse</span><span class=p>(</span><span class=n>x</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>radiusX</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>radiusY</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>thickness</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiDraw_line><hr><h1><a id=wguiDraw_line>wgui.draw_line</a></h1><p>Draws a line from <code>(x1, y1)</code> to <code>(x2, y2)</code> in the specified color.</p><p>@<em>param</em> <code>red</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>green</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>blue</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>alpha</code> — d2d colors range from 0.0 to 1.0.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>draw_line</span><span class=p>(</span><span class=n>x1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>x2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>thickness</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiDraw_text><hr><h1><a id=wguiDraw_text>wgui.draw_text</a></h1><p>Draws the text <code>text</code> at the specified coordinates, color, font, and alignment.</p><p>@<em>param</em> <code>red</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>green</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>blue</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>alpha</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>fontstyle</code> — 0: normal, 1: bold, 2: italic, 3: bold + italic.</p><div class=codehilite><pre><span></span><code><span class=n>fontstyle</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>0</span>
    <span class=o>|</span> <span class=mi>1</span>
    <span class=o>|</span> <span class=mi>2</span>
    <span class=o>|</span> <span class=mi>3</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>draw_text</span><span class=p>(</span><span class=n>x1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>x2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>text</span><span class=p>:</span> <span class=n>string</span><span class=p>,</span> <span class=n>fontname</span><span class=p>:</span> <span class=n>string</span><span class=p>,</span> <span class=n>fontsize</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>fontstyle</span><span class=p>:</span> <span class=mi>0</span><span class=o>|</span><span class=mi>1</span><span class=o>|</span><span class=mi>2</span><span class=o>|</span><span class=mi>3</span><span class=p>,</span> <span class=n>horizalign</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>vertalign</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiGet_text_size><hr><h1><a id=wguiGet_text_size>wgui.get_text_size</a></h1><p>Returns the width and height of the specified text.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>get_text_size</span><span class=p>(</span><span class=n>text</span><span class=p>:</span> <span class=n>string</span><span class=p>,</span> <span class=n>fontname</span><span class=p>:</span> <span class=n>string</span><span class=p>,</span> <span class=n>fontsize</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>max_width</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>max_height</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=p>{</span> <span class=n>width</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>height</span><span class=p>:</span> <span class=n>integer</span> <span class=p>}</span>
</code></pre></div></div><div name=wguiPush_clip><hr><h1><a id=wguiPush_clip>wgui.push_clip</a></h1><p>Specifies a rectangle to which all subsequent drawing operations are clipped. This clip is put onto a stack. It can then be popped off the stack with <code>wgui.d2d_pop_clip</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>push_clip</span><span class=p>(</span><span class=n>x1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>x2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y2</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiPop_clip><hr><h1><a id=wguiPop_clip>wgui.pop_clip</a></h1><p>Pops the most recent clip off the clip stack.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>pop_clip</span><span class=p>()</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiFill_rounded_rectangle><hr><h1><a id=wguiFill_rounded_rectangle>wgui.fill_rounded_rectangle</a></h1><p>Draws a filled in rounded rectangle at the specified coordinates, color and radius.</p><p>@<em>param</em> <code>red</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>green</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>blue</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>alpha</code> — d2d colors range from 0.0 to 1.0.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>fill_rounded_rectangle</span><span class=p>(</span><span class=n>x1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>x2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>radiusX</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>radiusY</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiDraw_rounded_rectangle><hr><h1><a id=wguiDraw_rounded_rectangle>wgui.draw_rounded_rectangle</a></h1><p>Draws the border of a rounded rectangle at the specified coordinates, color and radius.</p><p>@<em>param</em> <code>red</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>green</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>blue</code> — d2d colors range from 0.0 to 1.0.</p><p>@<em>param</em> <code>alpha</code> — d2d colors range from 0.0 to 1.0.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>draw_rounded_rectangle</span><span class=p>(</span><span class=n>x1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>x2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>y2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>radiusX</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>radiusY</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>thickness</span><span class=p>:</span> <span class=n>number</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiLoad_image><hr><h1><a id=wguiLoad_image>wgui.load_image</a></h1><p>Loads an image file from <code>path</code> which you can then access through <code>identifier</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>load_image</span><span class=p>(</span><span class=n>path</span><span class=p>:</span> <span class=n>string</span><span class=p>,</span> <span class=n>identifier</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiFree_image><hr><h1><a id=wguiFree_image>wgui.free_image</a></h1><p>Frees the image at <code>identifier</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>free_image</span><span class=p>(</span><span class=n>identifier</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiDraw_image><hr><h1><a id=wguiDraw_image>wgui.draw_image</a></h1><p>Draws an image by taking the pixels in the source rectangle of the image, and drawing them to the destination rectangle on the screen.</p><p>@<em>param</em> <code>interpolationMode</code> — 0: nearest neighbor, 1: linear, -1: don't use.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>draw_image</span><span class=p>(</span><span class=n>destx1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>desty1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>destx2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>desty2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>srcx1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>srcy1</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>srcx2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>srcy2</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>identifier</span><span class=p>:</span> <span class=n>string</span><span class=p>,</span> <span class=n>opacity</span><span class=p>:</span> <span class=n>number</span><span class=p>,</span> <span class=n>interpolationMode</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiGet_image_info><hr><h1><a id=wguiGet_image_info>wgui.get_image_info</a></h1><p>Returns the width and height of the image at <code>identifier</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>get_image_info</span><span class=p>(</span><span class=n>identifier</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=p>{</span> <span class=n>width</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>height</span><span class=p>:</span> <span class=n>integer</span> <span class=p>}</span>
</code></pre></div></div><div name=wguiSet_text_antialias_mode><hr><h1><a id=wguiSet_text_antialias_mode>wgui.set_text_antialias_mode</a></h1><p>Sets the text antialiasing mode. More info <a href=https://learn.microsoft.com/en-us/windows/win32/api/d2d1/ne-d2d1-d2d1_text_antialias_mode>here</a>.</p><div class=codehilite><pre><span></span><code><span class=n>mode</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>0</span>
    <span class=o>|</span> <span class=mi>1</span>
    <span class=o>|</span> <span class=mi>2</span>
    <span class=o>|</span> <span class=mi>3</span>
    <span class=o>|</span> <span class=mi>4294967295</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>set_text_antialias_mode</span><span class=p>(</span><span class=n>mode</span><span class=p>:</span> <span class=mi>0</span><span class=o>|</span><span class=mi>1</span><span class=o>|</span><span class=mi>2</span><span class=o>|</span><span class=mi>3</span><span class=o>|</span><span class=mi>4294967295</span><span class=p>)</span>
</code></pre></div></div><div name=wguiSet_antialias_mode><hr><h1><a id=wguiSet_antialias_mode>wgui.set_antialias_mode</a></h1><p>Sets the antialiasing mode. More info <a href=https://learn.microsoft.com/en-us/windows/win32/api/d2d1/ne-d2d1-d2d1_antialias_mode>here</a>.</p><div class=codehilite><pre><span></span><code><span class=n>mode</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>0</span>
    <span class=o>|</span> <span class=mi>1</span>
    <span class=o>|</span> <span class=mi>4294967295</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>set_antialias_mode</span><span class=p>(</span><span class=n>mode</span><span class=p>:</span> <span class=mi>0</span><span class=o>|</span><span class=mi>1</span><span class=o>|</span><span class=mi>4294967295</span><span class=p>)</span>
</code></pre></div></div><div name=wguiGdip_fillpolygona><hr><h1><a id=wguiGdip_fillpolygona>wgui.gdip_fillpolygona</a></h1><p>Draws a polygon at the specified coordinates and color.</p><p>@<em>param</em> <code>points</code> — Double array of points. For example, <code>{{0, 0}, {1, 0}, {0, 1}}</code> will draw a triangle.</p><p>@<em>param</em> <code>alpha</code> — GDI+ colors range from 0 to 255.</p><p>@<em>param</em> <code>red</code> — GDI+ colors range from 0 to 255.</p><p>@<em>param</em> <code>green</code> — GDI+ colors range from 0 to 255.</p><p>@<em>param</em> <code>blue</code> — GDI+ colors range from 0 to 255.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>gdip_fillpolygona</span><span class=p>(</span><span class=n>points</span><span class=p>:</span> <span class=n>integer</span><span class=p>[][],</span> <span class=n>alpha</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>red</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>green</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>blue</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=wguiInfo><hr><h1><a id=wguiInfo>wgui.info</a></h1><p>Returns the current size of the window.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>info</span><span class=p>()</span>
  <span class=o>-></span> <span class=p>{</span> <span class=n>width</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>height</span><span class=p>:</span> <span class=n>integer</span> <span class=p>}</span>
</code></pre></div></div><div name=wguiResize><hr><h1><a id=wguiResize>wgui.resize</a></h1><p>Resizes the window to <code>width</code> and <code>height</code></p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>wgui</span><span class=p>.</span><span class=nf>resize</span><span class=p>(</span><span class=n>width</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>height</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><hr><h1><a id=inputFuncs>INPUT</a>FUNCTIONS</h1><div name=inputGet><hr><h1><a id=inputGet>input.get</a></h1><p>Returns the state of all keyboard keys and the mouse position in a table. Ex: <code>input.get() -> {xmouse=297, ymouse=120, A=true, B=true}</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>input</span><span class=p>.</span><span class=nf>get</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>table</span>
</code></pre></div></div><div name=inputDiff><hr><h1><a id=inputDiff>input.diff</a></h1><p>Returns the differences between <code>t1</code> and <code>t2</code>. For example, if <code>t1</code> is the inputs for this frame, and <code>t2</code> is the inputs for last frame, it would return which buttons were pressed this frame, not which buttons are active.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>input</span><span class=p>.</span><span class=nf>diff</span><span class=p>(</span><span class=n>t1</span><span class=p>:</span> <span class=n>table</span><span class=p>,</span> <span class=n>t2</span><span class=p>:</span> <span class=n>table</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>table</span>
</code></pre></div></div><div name=inputPrompt><hr><h1><a id=inputPrompt>input.prompt</a></h1><p>Opens a window where the user can input text. If <code>OK</code> is clicked, that text is returned. If <code>Cancel</code> is clicked or the window is closed, <code>nil</code> is returned.</p><p>@<em>param</em> <code>title</code> — The title of the text box. Defaults to "input:".</p><p>@<em>param</em> <code>placeholder</code> — The text box is filled with this string when it opens. Defaults to "".</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>input</span><span class=p>.</span><span class=nf>prompt</span><span class=p>(</span><span class=n>title</span><span class=err>?</span><span class=p>:</span> <span class=n>string</span><span class=p>,</span> <span class=n>placeholder</span><span class=err>?</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>string</span><span class=o>|</span><span class=kc>nil</span>
</code></pre></div></div><div name=inputGet_key_name_text><hr><h1><a id=inputGet_key_name_text>input.get_key_name_text</a></h1><p>Gets the name of a key</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>input</span><span class=p>.</span><span class=nf>get_key_name_text</span><span class=p>(</span><span class=n>key</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>string</span>
</code></pre></div></div><div name=inputMap_virtual_key_ex><hr><h1><a id=inputMap_virtual_key_ex>input.map_virtual_key_ex</a></h1><p>Translates a virtual-key code into a scan code. More info <a href=https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa>here</a>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>input</span><span class=p>.</span><span class=nf>map_virtual_key_ex</span><span class=p>(</span><span class=n>code</span><span class=p>:</span> <span class=n>integer</span><span class=p>,</span> <span class=n>map_type</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>integer</span>
</code></pre></div></div><hr><h1><a id=joypadFuncs>JOYPAD</a>FUNCTIONS</h1><div name=joypadGet><hr><h1><a id=joypadGet>joypad.get</a></h1><p>Gets the currently pressed game buttons and stick direction for a given port. Note that the <code>y</code> coordinate of the stick is the opposite of what is shown on TAS Input.</p><div class=codehilite><pre><span></span><code><span class=n>port</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>1</span>
    <span class=o>|</span> <span class=mi>2</span>
    <span class=o>|</span> <span class=mi>3</span>
    <span class=o>|</span> <span class=mi>4</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>joypad</span><span class=p>.</span><span class=nf>get</span><span class=p>(</span><span class=n>port</span><span class=p>:</span> <span class=mi>1</span><span class=o>|</span><span class=mi>2</span><span class=o>|</span><span class=mi>3</span><span class=o>|</span><span class=mi>4</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>table</span>
</code></pre></div></div><div name=joypadSet><hr><h1><a id=joypadSet>joypad.set</a></h1><p>Sets the current joypad to <code>inputs</code>. If you do not specify one or more inputs, they will be set to <code>false</code> for buttons or <code>0</code> for stick coordinates.</p><div class=codehilite><pre><span></span><code><span class=n>port</span><span class=p>:</span>
    <span class=o>|</span> <span class=mi>1</span>
    <span class=o>|</span> <span class=mi>2</span>
    <span class=o>|</span> <span class=mi>3</span>
    <span class=o>|</span> <span class=mi>4</span>
</code></pre></div><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>joypad</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=n>port</span><span class=p>:</span> <span class=mi>1</span><span class=o>|</span><span class=mi>2</span><span class=o>|</span><span class=mi>3</span><span class=o>|</span><span class=mi>4</span><span class=p>,</span> <span class=n>inputs</span><span class=p>:</span> <span class=n>table</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=joypadRegister><hr><h1><a id=joypadRegister>joypad.register</a></h1><p>Calls the function <code>f</code> every input frame. The function <code>f</code> receives an argument that seems to always be <code>0</code>. If <code>unregister</code> is set to true, the function <code>f</code> will no longer be called when this event occurs, but it will error if you never registered the function. Alias for <code>emu.atinput</code>.</p><p>@<em>param</em> <code>f</code> — The function to be called every input frame. It receives an argument that seems to always be <code>0</code>.</p><p>@<em>param</em> <code>unregister</code> — If true, then unregister the function <code>f</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>joypad</span><span class=p>.</span><span class=nf>register</span><span class=p>(</span><span class=n>f</span><span class=p>:</span> <span class=n>fun</span><span class=p>(</span><span class=n>a</span><span class=err>?</span><span class=p>:</span> <span class=n>integer</span><span class=p>):</span><span class=kc>nil</span><span class=p>,</span> <span class=n>unregister</span><span class=err>?</span><span class=p>:</span> <span class=n>boolean</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=joypadCount><hr><h1><a id=joypadCount>joypad.count</a></h1><p>Returns the number of input frames that have happened since the emulator was started. It does not reset when a movie is started. Alias for <code>emu.inputcount</code>.</p><p>@<em>return</em> <code>inputcount</code> — The number of input frames that have happened since the emulator was started.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>joypad</span><span class=p>.</span><span class=nf>count</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>inputcount</span><span class=p>:</span> <span class=n>integer</span>
</code></pre></div></div><hr><h1><a id=movieFuncs>MOVIE</a>FUNCTIONS</h1><div name=moviePlaymovie><hr><h1><a id=moviePlaymovie>movie.playmovie</a></h1><p>Plays a movie file located at <code>filename</code>. This function sets <code>Read Only</code> to true.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>movie</span><span class=p>.</span><span class=nf>playmovie</span><span class=p>(</span><span class=n>filename</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=movieStopmovie><hr><h1><a id=movieStopmovie>movie.stopmovie</a></h1><p>Stops the currently playing movie.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>movie</span><span class=p>.</span><span class=nf>stopmovie</span><span class=p>()</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=movieGetmoviefilename><hr><h1><a id=movieGetmoviefilename>movie.getmoviefilename</a></h1><p>Returns the filename of the currently playing movie. It will error if no movie is playing.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>movie</span><span class=p>.</span><span class=nf>getmoviefilename</span><span class=p>()</span>
  <span class=o>-></span> <span class=n>string</span>
</code></pre></div></div><hr><h1><a id=savestateFuncs>SAVESTATE</a>FUNCTIONS</h1><div name=savestateSavefile><hr><h1><a id=savestateSavefile>savestate.savefile</a></h1><p>Saves a savestate to <code>filename</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>savestate</span><span class=p>.</span><span class=nf>savefile</span><span class=p>(</span><span class=n>filename</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=savestateLoadfile><hr><h1><a id=savestateLoadfile>savestate.loadfile</a></h1><p>Loads a savestate from <code>filename</code></p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>savestate</span><span class=p>.</span><span class=nf>loadfile</span><span class=p>(</span><span class=n>filename</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><hr><h1><a id=ioHelperFuncs>IOHELPER</a>FUNCTIONS</h1><div name=ioHelperFilediag><hr><h1><a id=ioHelperFilediag>ioHelper.filediag</a></h1><p>Opens a file dialouge and returns the file path of the file chosen.</p><p>@<em>param</em> <code>filter</code> — This string acts as a filter for what files can be chosen. For example <code>*.*</code> selects all files, where <code>*.txt</code> selects only text files.</p><p>@<em>param</em> <code>type</code> — Unknown.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>ioHelper</span><span class=p>.</span><span class=nf>filediag</span><span class=p>(</span><span class=n>filter</span><span class=p>:</span> <span class=n>string</span><span class=p>,</span> <span class=nb>type</span><span class=p>:</span> <span class=n>integer</span><span class=p>)</span>
  <span class=o>-></span> <span class=n>string</span>
</code></pre></div></div><hr><h1><a id=aviFuncs>AVI</a>FUNCTIONS</h1><div name=aviStartcapture><hr><h1><a id=aviStartcapture>avi.startcapture</a></h1><p>Begins an avi recording using the previously saved encoding settings. It is saved to <code>filename</code>.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>avi</span><span class=p>.</span><span class=nf>startcapture</span><span class=p>(</span><span class=n>filename</span><span class=p>:</span> <span class=n>string</span><span class=p>)</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div><div name=aviStopcapture><hr><h1><a id=aviStopcapture>avi.stopcapture</a></h1><p>Stops avi recording.</p><div class=codehilite><pre><span></span><code><span class=kr>function</span> <span class=nc>avi</span><span class=p>.</span><span class=nf>stopcapture</span><span class=p>()</span>
  <span class=o>-></span> <span class=kc>nil</span>
</code></pre></div></div></div><script>const coll=document.getElementsByClassName("collapsible");for(let a=0;a<coll.length;a++){coll[a].addEventListener("click",function(){this.classList.toggle("active");const b=this.nextElementSibling;if(b.style.maxHeight){b.style.maxHeight=null}else{b.style.maxHeight=b.scrollHeight+ "px"}})};async function highlightFunc(a){let b=document.getElementsByName(a)[0];b.classList.add("highlight");await new Promise(c=>setTimeout(c,1510));b.classList.remove("highlight")}</script></body></html>